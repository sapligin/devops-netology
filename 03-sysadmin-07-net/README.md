# devops-netology Плигин Сергей
## Домашнее задание к занятию "3.7. Компьютерные сети, лекция 2"

#### 1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?
#### Решение:
В Linux список сетевых интерфейсов можно посмотреть командой `ip -c -br link`  

    vagrant@vagrant:~$ ip -c -br link  
    lo               UNKNOWN        00:00:00:00:00:00 <LOOPBACK,UP,LOWER_UP>  
    eth0             UP             08:00:27:73:60:cf <BROADCAST,MULTICAST,UP,LOWER_UP>  
В Windows список сетевых интерфейсов можно посмотреть командой `ipconfig /all` или командой `netsh interface show interface` или командой PowerShell `Get-NetAdapter`  

    PS C:\Windows\system32> Get-NetAdapter

    Name                      InterfaceDescription                    ifIndex Status       MacAddress             LinkSpeed
    ----                      --------------------                    ------- ------       ----------             ---------
    Сетевое подключение Bl... Bluetooth Device (Personal Area Netw...      23 Disconnected 7C-50-79-3C-0F-36         3 Mbps
    Подключение по локальн... TAP-Windows Adapter V9                       17 Not Present  00-FF-9F-55-6F-30          0 bps
    Ethernet                  Realtek PCIe GbE Family Controller           13 Disconnected 38-F3-AB-6B-59-02          0 bps
    VMware Network Adapte...8 VMware Virtual Ethernet Adapter for ...      10 Up           00-50-56-C0-00-08       100 Mbps
    VirtualBox Host-Only N... VirtualBox Host-Only Ethernet Adapter         9 Up           0A-00-27-00-00-09         1 Gbps
    Беспроводная сеть         Intel(R) Wi-Fi 6 AX201 160MHz                 6 Up           7C-50-79-3C-0F-32     144.4 Mbps
    VMware Network Adapte...1 VMware Virtual Ethernet Adapter for ...       4 Up           00-50-56-C0-00-01       100 Mbps
    VPN - VPN Client          VPN Client Adapter - VPN                      3 Disconnected 5E-68-F0-78-C6-37       100 Mbps
#### 2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?
#### Решение:
Link Layer Discovery Protocol (LLDP) — протокол канального уровня, который позволяет сетевым устройствам анонсировать в сеть информацию о себе и о своих возможностях, а также собирать эту информацию о соседних устройствах.  
В Linux есть пакет `lldpd` для работы с данным протоколом.  
Команда для работы с протоколом LLDP - `lldpctl`
#### 3. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.
#### Решение:
Для разделения L2 коммутатора на несколько виртуальных сетей используется технология VLAN.  
В Linux для этого необходимо установить пакет `vlan`.  
Настройки подинтерфейсов VLAN указываются в файле /etc/network/interfaces.  

    vagrant@vagrant:~$ cat /etc/network/interfaces
    auto vlan1400
    iface vlan1400 inet static
        address 192.168.1.1
        netmask 255.255.255.0
        vlan_raw_device eth0
#### 4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.
#### Решение:
В Linux есть статические и динамические типы агрегации интерфейсов.  
Linux поддерживает следующие опции балансиировки нагрузки:

- 0 (balance-rr) — круговое распределение пакетов между интерфейсами. Обеспечивает отказоустойчивость и повышение пропускной способности.
- 1 (active-backup) — в каждый момент времени работает только один интерфейс, в случае его выхода из строя, mac-адрес назначается второму интерфейсу и трафик переключается на него.
- 2 (balance-xor) — обеспечивает балансировку между интерфейсами на основании MAC-адресов отправителя и получателя.
- 3 (broadcast) — отправляет пакеты через все интерфейсы одновременно, обеспечивает отказоустойчивость.
- 4 (802.3ad) — обеспечивает агрегацию на основании протокола 802.3ad.
- 5 (balance-tlb) — в этом режиме входящий трафик приходит только на один «активный» интерфейс, исходящий же распределяется по всем интерфейсам.
- 6 (balance-alb) — балансирует исходящий трафик как tlb, а так же входящий IPv4 трафик используя ARP.  
Для использования агрегации интерфейсов в Linux необходимо установить пакет `ifenslave` для управления агрегацией, и включить в ядре Linux модуль бондинга командой `modprobe bonding`