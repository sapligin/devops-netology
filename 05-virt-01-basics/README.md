# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."


## Задача 1
Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.
## Решение:
- Полная (аппаратная) виртуализация напрямую использует ресурсы оборудования и распределяет их между виртуальными машинами, так как сам гипервизор является операционной системой. При полной виртуализации возможно использовать любые гостевые операционные системы, которые поддерживают архитектуру оборудования физического сервера.   
- При паравиртуализации требуется установленная хостовая операционная система, которая обеспечивает гипервизору доступ к ресурсам оборудования физического сервера. В режиме паравиртуализации, в отличии от полной виртуализации, гипервизором вносятся модификации в ядро гостевой ОС для разделения доступа к ресурсам физического сервера.  
- При виртуализации на основе ОС невозможно запустить гостевую ОС с ядром, отличным от хоста. За разделение ресурсов оборудования отвечает хостовая ОС, так как гипервизор отсутствует.

## Задача 2
Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:

физические сервера,  
паравиртуализация,  
виртуализация уровня ОС.  
Условия использования:

Высоконагруженная база данных, чувствительная к отказу.  
Различные web-приложения.  
Windows системы для использования бухгалтерским отделом.  
Системы, выполняющие высокопроизводительные расчеты на GPU.  
Опишите, почему вы выбрали к каждому целевому использованию такую организацию.
## Решение:
Высоконагруженная база данных, чувствительная к отказу - физические сервера, так как требуется быстрая работа дисковой подсистемы.  
Различные web-приложения - виртуализация уровня ОС. Приложения можно запускать в изолированном пространстве, высокая скорость развертывания.  
Windows системы для использования бухгалтерским отделом - паравиртуализация, так как можно гибко распределять ресурсы между ВМ, либо разворачивать ВМ из шаблона. Изолированность гостевых ОС друг от друга.  
Системы, выполняющие высокопроизводительные расчеты на GPU - физические сервера, так как требуется прямой доступ к графическому оборудованию.
## Задача 3
Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.  
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.  
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.  
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.
## Решение:
1. Подойдет решение виртуализации от VMWARE, так как поддерживается множество гостевых ОС, а так же реализуемы требования по балансировке нагрузки, репликации и созданию резервных копий.
2. В качестве бесплатных opensource решений подойдут Proxmox+KVM, либо Xen.
3. Бесплатным и максимально совместимым решением для Windows инфраструктуры будет выступать Microsoft Hyper-V Server. Ограничений в нем никаких нет (в отличие от бесплатной версии VMware), вы можете включить его в домен, управлять ею с помощью Windows Admin Center, бэкапить.
4. Для тестирования программного продукта можно использовать связку Vagrant и Virtual Box. Позволяет быстро развернуть ВМ с необходимыми настройками.
## Задача 4
Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.
## Решение:
- В случае использования гетерогенной среды виртуализации используется большее количество человеческих ресурсов для их управления и обслуживания.  
- Увеличение затрат на оборудование для обеспечения поддержки работоспособности гетерогенной среды.
- Для автоматизации мониторинга виртуальных машин необходимо использовать несколько различных программных продуктов, что снижает оперативность оценки состояния вычислительных ресурсов виртуальных машин.  
- Сложность удовлетворения требований, накладываемых использованием разных платформ виртуализации для решения задач обеспечения доступности информационных систем. 
- Могут возникнуть проблемы совместимости различных технологий виртуализации при использовании гетерогенной среды.  Это влечет за собой проблемы при перемещении данных между гипервизорами гетерогенной среды, обеспечение безопасности виртуальных машин, разнородность директорий хранения данных и произвольное расположение виртуальных машин в инфраструктуре.  

Для минимизации рисков и проблем необходимо максимально снизить вероятность несовместимости технологий виртуальной среды. Необходимо провести анализ рациональности использования той или иной системы виртуализации и, если возможно, произвести миграцию виртуальной среды.  

